<html>

<head>
<title>Методические указания к выполнению курсовых работ по курсу "Системное програмирование"</title>
</head>

<body bgcolor=#F5DEB3 leftmargin="0" topmargin="0" rightmargin="0" bottommargin="0" marginwidth="0">
<center>
<table border="3">
<tr>
<td width="700"> <font color="#0000FF">
<h2><center>6.Синхронизация процессов и потоков (Synchronization).</center></h2>
<p align="justify">&nbsp&nbsp&nbspНаписать программу, моделирующую обрабатывающее 
устройство и очередь к нему. Поток, имитирующий устройство, получает некое задание из 
общей переменной (значение, которое хранится в переменной, может быть интерпретировано 
как время выполнения задания). После обработки задания поток-устройство сообщает 
потоку-очереди, что оно свободно, при этом поток-очередь помещает в переменную новое задание. 
Для синхронизации потоков использовать любой из объектов синхронизации.</p>
</td>
<tr>
<td bgcolor="#FFFAFA" width="700"><center><h3><font color="#00008B"></font></h3></center>   

<p align="justify">&nbsp&nbsp&nbspПриложение состоит из одного или нескольких процессов. Процесс (process), в самых простых терминах, 
является исполняемой программой. В контексте процесса работает один или несколько потоков. Потоки (thread) - основные модули программы, 
среди которых операционная система распределяет процессорное время. Поток может выполнять любую часть кода процесса, включая части, в настоящее 
время выполняемые другим потоком. Нить (fiber) - секция исполняемого кода, для которой должна быть вручную установлена очередность обслуживания 
прикладной программой. Нити работают в среде потоков, которые устанавливают очередность их обслуживания. 
Объект задания (job object) позволяет управлять группой процессов как модулем программы. Объекты задания – это именованные, защищенные, совместно 
используемые объекты, которые управляют атрибутами процессов, связанных с ними. Операции, выполненные на объекте задания, затрагивают все процессы, 
связанные с объектом задания.</p>

<center><h3>Цели и средства синхронизации</h3></center>
<p align="justify">&nbsp&nbsp&nbspСуществует достаточно обширный класс средств операционной системы, с помощью которых обеспечивается взаимная 
синхронизация процессов и потоков. 
Потребность в синхронизации потоков возникает только в мультипрограммной операционной системе и связана с совместным использованием аппаратных и 
 информационных ресурсов вычислительной системы. Синхронизация необходима для исключения гонок и тупиков при обмене данными между потоками, разделении 
данных, при доступе к процессору и устройствам ввода-вывода. 
Во многих операционных системах эти средства называются средствами межпроцессного взаимодействия — Inter Process Communications (IPC), что отражает
 историческую первичность понятия «процесс» по отношению к понятию «поток». Обычно к средствам IPC относят не только средства межпроцессной 
синхронизации, но и средства межпроцессного обмена данными. <br>

&nbsp&nbsp&nbspВажным понятием синхронизации потоков является понятие «критической секции» 
программы. Критическая секция — это часть программы, результат выполнения которой может 
непредсказуемо меняться, если переменные, относящиеся к этой части программы, изменяются 
другими потоками в то время, когда выполнение этой части еще не завершено. Критическая 
секция всегда определяется по отношению к определенным критическим данным, при 
несогласованном изменении которых могут возникнуть нежелательные эффекты<br>.
 
&nbsp&nbsp&nbspЧтобы исключить эффект гонок по отношению к критическим данным, 
необходимо обеспечить, чтобы в каждый момент времени в критической секции, связанной 
с этими данными, находился только один поток. При этом неважно, находится этот поток в 
активном или в приостановленном состоянии. Этот прием называют взаимным исключением. 
Операционная система использует разные способы реализации взаимного исключения. 
Некоторые способы пригодны для взаимного исключения при вхождении в критическую секцию 
только потоков  одного процесса, в то время как другие могут обеспечить взаимное 
исключение и для потоков разных процессов.<br>

&nbsp&nbsp&nbspСамый простой и в то же время самый неэффективный способ обеспечения 
взаимного исключения состоит в том, что операционная система позволяет потоку запрещать 
любые прерывания на время его нахождения в критической секции.<br>

&nbsp&nbsp&nbspДля синхронизации потоков одного процесса могут использоваться глобальные 
блокирующие переменные. С этими переменными, к которым все потоки процесса имеют прямой 
доступ, программист работает, не обращаясь к системным вызовам ОС.<br> 

&nbsp&nbsp&nbspРеализация взаимного исключения с помощью глобальных блокирующих переменных
имеет существенный недостаток: в течение времени, когда один поток находится в критической 
секции, другой поток, которому требуется тот же ресурс, получив доступ к процессору, 
будет непрерывно опрашивать блокирующую переменную, бесполезно тратя выделяемое ему 
процессорное время, которое могло бы быть использовано для выполнения какого-нибудь 
другого потока. Для устранения этого недостатка предусматриваются специальные системные 
вызовы для работы с критическими секциями.<br>

&nbsp&nbsp&nbspОбобщением блокирующих переменных являются так называемые семафоры Дийкстры. 
Вместо двоичных переменных Дийкстра (Dijkstra) предложил использовать переменные, которые 
могут принимать целые неотрицательные значения. Такие переменные, используемые для 
синхронизации вычислительных процессов, получили название семафоров.<br> 

&nbsp&nbsp&nbspДля синхронизации потоков разных процессов используются системные объекты 
синхронизации.<br>

&nbsp&nbsp&nbspПримерами таких синхронизирующих объектов являются системные семафоры, 
мьютексы, события, таймеры и другие — их набор зависит от конкретной ОС, которая создает 
эти объекты по запросам процессов. Чтобы процессы могли разделять синхронизирующие 
объекты, в разных ОС используются разные методы. Некоторые ОС возвращают указатель на 
объект. Этот указатель может быть доступен всем родственным процессам, наследующим 
характеристики общего родительского процесса. В других ОС процессы в запросах на 
создание объектов синхронизации указывают имена, которые должны быть им присвоены. 
Далее эти имена используются разными процессами для манипуляций объектами синхронизации. 
В таком, случае работа с синхронизирующими объектами подобна работе с файлами. 
Их можно создавать, открывать, закрывать, уничтожать.<br> 
&nbsp&nbsp&nbspКроме того, для синхронизации могут быть использованы такие «обычные» 
объекты ОС, как файлы, процессы и потоки. Все эти объекты могут находиться в двух 
состояниях: сигнальном и несигнальном — свободном. Для Каждого объекта смысл, вкладываемый 
в понятие «сигнальное состояние», зависит от типа объекта. Так, например, поток переходит 
в сигнальное состояние тогда, когда он завершается. Процесс переходит в сигнальное 
состояние тогда, когда завершаются все его потоки. Файл переходит в сигнальное состояние 
в том случае, когда завершается операция ввода-вывода для этого файла. Для остальных 
объектов сигнальное состояние устанавливается в результате выполнения специальных системных 
вызовов. Приостановка и активизация потоков осуществляются в зависимости от состояния 
синхронизирующих объектов ОС.</p>

</td></tr>
</table>
</center>
<br><br><font color="#0000FF"><a href="index.html">Вернуться к списку тем.</a></font>

</body>


</html>