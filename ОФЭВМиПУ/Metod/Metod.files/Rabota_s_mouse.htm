<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="77.files/filelist.xml">
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Al</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Al</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>18</o:TotalTime>
  <o:Created>2013-03-28T21:27:00Z</o:Created>
  <o:LastSaved>2013-03-28T21:27:00Z</o:LastSaved>
  <o:Pages>3</o:Pages>
  <o:Words>1918</o:Words>
  <o:Characters>10937</o:Characters>
  <o:Company>SPecialiST RePack</o:Company>
  <o:Lines>91</o:Lines>
  <o:Paragraphs>25</o:Paragraphs>
  <o:CharactersWithSpaces>12830</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="77.files/themedata.thmx">
<link rel=colorSchemeMapping href="77.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>RU</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="0" Name="HTML Preformatted"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
pre
	{mso-style-unhide:no;
	mso-style-link:"Стандартный HTML Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.bodyfirst, li.bodyfirst, div.bodyfirst
	{mso-style-name:body_first;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.bodytext, li.bodytext, div.bodytext
	{mso-style-name:body_text;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
span.HTML
	{mso-style-name:"Стандартный HTML Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Стандартный HTML";
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	color:black;
	mso-fareast-language:RU;}
p.bodydef, li.bodydef, div.bodydef
	{mso-style-name:body_def;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.info2, li.info2, div.info2
	{mso-style-name:info2;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-fareast-language:EN-US;}
.MsoPapDefault
	{mso-style-type:export-only;
	margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:10.0pt;
	mso-para-margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-fareast-language:EN-US;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU style='tab-interval:35.4pt'>
<p style='text-align:justify;text-indent:35.45pt; font-size: 14pt;'><a
name=begin><i><b>3. Работа с мышью</b></i></p>

<div class=WordSection1>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'>Все общение с
мышью в DOS выполняется через прерывание 33h, обработчик которого устанавливает
драйвер мыши, загружаемый обычно при запуске системы. Современные драйверы
поддерживают около 60 функций, позволяющих настраивать разрешение мыши, профили
ускорений, виртуальные координаты, настраивать дополнительные обработчики событий
и т.п. Большинство этих функций требуются редко, сейчас рассмотрим основные:<o:p></o:p></p>

<p class=MsoNormal style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>INT 33h, AX = 0</i>&nbsp;— Инициализация
мыши<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AX = 0000h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АХ = 0000h,
  если мышь или драйвер мыши не установлены<br>
  АХ = FFFFh, если драйвер и мышь установлены<br>
  ВХ = число кнопок: <o:p></o:p></p>
  <p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
  35.45pt'>0002 или FFFF&nbsp;— две<br>
  0003&nbsp;— три<br>
  0000&nbsp;— другое количество<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Выполняется
аппаратный и программный сброс мыши и драйвера.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>INT 33h, AX = 1</i>&nbsp;— Показать
курсор<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AX = 0001h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>INT 33h, AX = 2</i>&nbsp;— Спрятать
курсор<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AX = 0002h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Драйвер мыши
поддерживает внутренний счетчик, управляющий видимостью курсора мыши. Функция 2
уменьшает значение счетчика на единицу, а функция 1 увеличивает его, но только
до значения 0. Если значение счетчика&nbsp;— отрицательное число, он спрятан,
если ноль&nbsp;— показан. Это позволяет процедурам, использующим прямой вывод в
видеопамять, вызывать функцию 2 в самом начале и 1&nbsp;— в самом конце, не
заботясь о том, в каком состоянии был курсор мыши у вызвавшей эту процедуру
программы.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'>INT 33h, AX = 3&nbsp;— Определить состояние
мыши<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AX = 0003h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>ВХ =
  состояние кнопок: <o:p></o:p></p>
  <p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
  35.45pt'>бит 0&nbsp;— нажата левая кнопка<br>
  бит 1&nbsp;— нажата правая кнопка<br>
  бит 2&nbsp;— нажата средняя кнопка<o:p></o:p></p>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>СХ =
  Х-координата<br>
  DX = Y-координата<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Возвращаемые
координаты совпадают с пиксельными координатами соответствующей точки на экране
в большинстве графических режимов, кроме 04, 05, 0Dh, 13h, в которых
Х-координату мыши нужно разделить на 2, чтобы получить номер столбца соответствующей
точки на экране. В текстовых режимах обе координаты надо разделить на 8, чтобы
получить номер строки и столбца соответственно.<o:p></o:p></p>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>В большинстве
случаев эта функция не используется в программах, так как для того, чтобы
реагировать на нажатие кнопки или перемещение мыши в заданную область,
требуется вызывать это прерывание постоянно, что приводит к трате процессорного
времени. Функции 5 (определить положение курсора при последнем нажатии кнопки),
6 (определить положение курсора при последнем отпускании кнопки) и 0Bh
(определить расстояние, пройденное мышью) могут помочь оптимизировать работу
программы, самостоятельно следящей за всеми передвижениями мыши, но гораздо
эффективнее указать драйверу самому следить за ее передвижениями (чем он,
собственно, и занимается постоянно) и передавать управление в программу, как
только выполнится заранее определенное условие, например пользователь нажмет на
левую кнопку мыши. Такой сервис обеспечивает функция 0Ch&nbsp;— установить обработчик
событий.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>INT 33h, AX = 0Ch</i>&nbsp;— Установить
обработчик событий<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AX = 000Ch<br>
  ES:DX = адрес обработчика<br>
  СХ = условие вызова <o:p></o:p></p>
  <p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
  35.45pt'>бит 0&nbsp;— любое перемещение мыши<br>
  бит 1&nbsp;— нажатие левой кнопки<br>
  бит 2&nbsp;— отпускание левой кнопки<br>
  бит 3&nbsp;— нажатие правой кнопки<br>
  бит 4&nbsp;— отпускание правой кнопки<br>
  бит 5&nbsp;— нажатие средней кнопки<br>
  бит 6&nbsp;— отпускание средней кнопки<o:p></o:p></p>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>СХ =
  0000h&nbsp;— отменить обработчик<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Обработчик
событий должен быть оформлен, как дальняя процедура (то есть завершаться
командой RETF). На входе в процедуру обработчика АХ содержит условие вызова, ВХ&nbsp;—
состояние кнопок, СХ, DX&nbsp;— X- и Y-координаты курсора, SI, DI&nbsp;—
счетчики последнего перемещения по горизонтали и вертикали (единицы измерения
для этих счетчиков&nbsp;— мики, 1/200 дюйма), DS&nbsp;— сегмент данных драйвера
мыши. Перед завершением программы установленный обработчик событий должен быть
обязательно удален (вызов функции 0Ch с СХ&nbsp;= 0), так как иначе при первом
же выполнении условия управление будет передано по адресу в памяти, с которого
начинался обработчик.<o:p></o:p></p>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Функция 0Ch
используется так часто, что у нее появилось несколько модификаций&nbsp;— функция
14h, позволяющая установить одновременно три обработчика с разными условиями, и
функция 18h, также позволяющая установить три обработчика и включающая в
условие вызова состояние клавиш Shift, Ctrl и Alt. Воспользуемся обычной
функцией 0Ch, чтобы написать простую программу для рисования.<o:p></o:p></p>

<pre style='text-align:justify;text-indent:35.45pt'>; mousedr.asm<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Рисует на экране прямые линии с концами в позициях, указываемых мышью<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>;<o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.model<span style='mso-spacerun:yes'>      </span>tiny<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.code<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>org<span style='mso-spacerun:yes'>         </span>100h<span style='mso-spacerun:yes'>         </span>; </span>СОМ<span
lang=EN-US style='mso-ansi-language:EN-US'>-</span>файл<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>.186<span style='mso-spacerun:yes'>                     </span>; для команды shr cx,3<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>start:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,12h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>10h<span style='mso-spacerun:yes'>          </span>; видеорежим 640x480<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,0<span style='mso-spacerun:yes'>         </span>; инициализировать мышь<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,1<span style='mso-spacerun:yes'>         </span>; показать курсор мыши<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,000Ch<span style='mso-spacerun:yes'>     </span>; установить обработчик событий мыши<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>cx,0002h<span style='mso-spacerun:yes'>     </span>; событие - нажатие левой кнопки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>         </span>dx,offset handler ; ES:DX - </span>адрес<span
style='mso-ansi-language:EN-US'> </span>обработчика<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'>       </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ah,0<span style='mso-spacerun:yes'>         </span>; ожидание нажатия любой клавиши<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>16h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,000Ch<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>cx,0000h<span style='mso-spacerun:yes'>     </span>; удалить обработчик событий мыши<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,3<span style='mso-spacerun:yes'>         </span>; текстовый режим<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>10h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                      </span>; конец программы<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Обработчик событий мыши: при первом нажатии выводит точку на экран,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; при каждом дальнейшем вызове проводит прямую линию от предыдущей<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>; </span>точки<span style='mso-ansi-language:
EN-US'> </span>к<span style='mso-ansi-language:EN-US'> </span>текущей<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>handler:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>        </span>0A000h<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>pop<span style='mso-spacerun:yes'>         </span>es<span style='mso-spacerun:yes'>           </span>; ES - начало видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>        </span>cs<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pop<span style='mso-spacerun:yes'>         </span>ds<span style='mso-spacerun:yes'>           </span>; DS - сегмент кода и данных этой программы<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>        </span>сх<span style='mso-spacerun:yes'>           </span>; СХ (Х-координата) и<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'>      </span>dx<span style='mso-spacerun:yes'>           </span>; DX (Y-координата) потребуются в конце<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax, 2<span style='mso-spacerun:yes'>        </span>; спрятать курсор мыши перед выводом на экран<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>         </span>word ptr previous_X,-1<span style='mso-spacerun:yes'>  </span>; если это первый вызов,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>          </span>first_point<span style='mso-spacerun:yes'>             </span>; только вывести точку,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>call<span style='mso-spacerun:yes'>        </span>line_bresenham<span style='mso-spacerun:yes'>          </span>; </span>иначе<span
lang=EN-US style='mso-ansi-language:EN-US'> - </span>провести<span
style='mso-ansi-language:EN-US'> </span>прямую<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'>exit_handler:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>pop<span style='mso-spacerun:yes'>         </span>dx<span style='mso-spacerun:yes'>                      </span>; восстановить СХ и DX<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pop<span style='mso-spacerun:yes'>         </span>сх<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>previous_X,cx<span style='mso-spacerun:yes'>    </span><span style='mso-spacerun:yes'>       </span>; и запомнить их как предыдущие<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>previous_Y,dx<span style='mso-spacerun:yes'>           </span>; координаты<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax,1<span style='mso-spacerun:yes'>         </span>; показать курсор мыши<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>         </span>33h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>retf<span style='mso-spacerun:yes'>                     </span>; выход из обработчика - команда RETF<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>first_point:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>        </span>putpixel1b<span style='mso-spacerun:yes'>   </span>; вывод одной точки (при первом вызове)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>         </span>short exit_handler<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Процедура рисования прямой линии с использованием алгоритма Брезенхама<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Ввод: СХ, DX - X, Y конечной точки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>; previous_X,previous_Y - X, Y </span>начальной<span
style='mso-ansi-language:EN-US'> </span>точки<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>line_bresenham:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>ax, </span>сх<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>sub<span style='mso-spacerun:yes'>         </span>ax,previous_X<span style='mso-spacerun:yes'>             </span>; AX = </span>длина<span
style='mso-ansi-language:EN-US'> </span>проекции<span style='mso-ansi-language:
EN-US'> </span>прямой<span style='mso-ansi-language:EN-US'> </span>на<span
style='mso-ansi-language:EN-US'> </span>ось<span lang=EN-US style='mso-ansi-language:
EN-US'> X<o:p></o:p></span></pre><pre style='text-align:justify;text-indent:
35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>jns<span style='mso-spacerun:yes'>         </span>dx_pos<span style='mso-spacerun:yes'>                    </span>; если АХ отрицательный -<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>neg<span style='mso-spacerun:yes'>         </span>ax<span style='mso-spacerun:yes'>              </span><span style='mso-spacerun:yes'>          </span>; сменить его знак, причем<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>word ptr X_increment,1<span style='mso-spacerun:yes'>    </span>; координата X при выводе<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>         </span>short dx_neg<span style='mso-spacerun:yes'>              </span>; прямой будет расти,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>dx_pos: mov<span style='mso-spacerun:yes'>         </span>word ptr X_increment,-1<span style='mso-spacerun:yes'>   </span>; </span>а<span
style='mso-ansi-language:EN-US'> </span>иначе<span lang=EN-US style='mso-ansi-language:
EN-US'> - </span>уменьшаться<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>dx_neg: mov<span style='mso-spacerun:yes'>         </span>bx,dx<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>sub<span style='mso-spacerun:yes'>         </span>bx,previous_Y<span style='mso-spacerun:yes'>             </span>; BX = длина проекции прямой на ось Y<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jns<span style='mso-spacerun:yes'>         </span>dy_pos<span style='mso-spacerun:yes'>                    </span>; если ВХ отрицательный -<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>neg<span style='mso-spacerun:yes'>         </span>bx<span style='mso-spacerun:yes'>                        </span>; сменить его знак, причем<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>word ptr Y_increment,1<span style='mso-spacerun:yes'>    </span>; координата Y при выводе<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>         </span>short dy_neg<span style='mso-spacerun:yes'>              </span>; прямой будет расти,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>dy_pos: mov<span style='mso-spacerun:yes'>         </span>word ptr Y_increment,-1<span style='mso-spacerun:yes'>   </span>; </span>а<span
style='mso-ansi-language:EN-US'> </span>иначе<span lang=EN-US style='mso-ansi-language:
EN-US'> - </span>уменьшаться<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'>dy_neg: shl<span style='mso-spacerun:yes'>         </span>ax,1<span style='mso-spacerun:yes'>            </span>; удвоить значения проекций,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shl<span style='mso-spacerun:yes'>         </span>bx,1<span style='mso-spacerun:yes'>            </span>; чтобы избежать работы с полуцелыми числами<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>        </span>putpixel1b<span style='mso-spacerun:yes'>      </span>; вывести первую точку (прямая рисуется от<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                    </span><span
lang=EN-US style='mso-ansi-language:EN-US'>; CX,DX </span>к<span lang=EN-US
style='mso-ansi-language:EN-US'> previous_X,previous_Y)<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>cmp<span style='mso-spacerun:yes'>    </span><span style='mso-spacerun:yes'>     </span>ax,bx<span style='mso-spacerun:yes'>           </span>; если проекция на ось X больше, чем на Y:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jna<span style='mso-spacerun:yes'>         </span>dx_le_dy<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>         </span>di,ax<span style='mso-spacerun:yes'>           </span>; DI будет указывать, в какую сторону мы<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shr<span style='mso-spacerun:yes'>         </span>di,1<span style='mso-spacerun:yes'>            </span>; отклонились от идеальной прямой<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>neg<span style='mso-spacerun:yes'>     </span><span style='mso-spacerun:yes'>    </span>di<span style='mso-spacerun:yes'>              </span>; оптимальное начальное значение DI:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>add<span style='mso-spacerun:yes'>         </span>di,bx<span style='mso-spacerun:yes'>           </span>; DI = 2 * dy - dx<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>cycle:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>         </span>ex,word ptr previous_X<span style='mso-spacerun:yes'>    </span>; </span>основной<span
style='mso-ansi-language:EN-US'> </span>цикл<span style='mso-ansi-language:
EN-US'> </span>выполняется<span lang=EN-US style='mso-ansi-language:EN-US'>,<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>je<span style='mso-spacerun:yes'>          </span>exit_bres<span style='mso-spacerun:yes'>                 </span>; пока Х не станет равно previous_X<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>cmp<span style='mso-spacerun:yes'>         </span>di,0<span style='mso-spacerun:yes'>                      </span>; </span>если<span
lang=EN-US style='mso-ansi-language:EN-US'> DI &gt; 0,<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>jl<span style='mso-spacerun:yes'>          </span>fractlt0<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>         </span>dx,word ptr Y_increment<span style='mso-spacerun:yes'>   </span>; </span>перейти<span
style='mso-ansi-language:EN-US'> </span>к<span style='mso-ansi-language:EN-US'> </span>следующему<span
lang=EN-US style='mso-ansi-language:EN-US'> Y<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>sub<span style='mso-spacerun:yes'>         </span>di,ax<span style='mso-spacerun:yes'>                     </span>; и уменьшить DI на 2 * dx<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>fractlt0:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>         </span>cx,word ptr X_increment<span style='mso-spacerun:yes'>   </span>; следующий Х (на каждом шаге)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>         </span>di,bx<span style='mso-spacerun:yes'>                     </span>; увеличить DI на 2 * dy<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>        </span>putpixel1b<span style='mso-spacerun:yes'>                </span>; вывести точку<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>         </span>short cycle<span style='mso-spacerun:yes'>       </span><span style='mso-spacerun:yes'>        </span>; продолжить цикл<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>dx_le_dy:<span style='mso-spacerun:yes'>                                </span>; если проекция на ось Y больше, чем на X<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>         </span>di,bx<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>shr<span style='mso-spacerun:yes'>         </span>di,1<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>neg<span style='mso-spacerun:yes'>         </span>di<span style='mso-spacerun:yes'>                        </span>; оптимальное начальное значение DI:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>add<span style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'>       </span>di,ax<span style='mso-spacerun:yes'>                     </span>; DI = 2 * dx - dy<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>cycle2:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>         </span>dx,word ptr previous_Y<span style='mso-spacerun:yes'>    </span>; </span>основной<span
style='mso-ansi-language:EN-US'> </span>цикл<span style='mso-ansi-language:
EN-US'> </span>выполняется<span lang=EN-US style='mso-ansi-language:EN-US'>,<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>je<span style='mso-spacerun:yes'>          </span>exit_bres<span style='mso-spacerun:yes'>                 </span>; пока Y не станет равным previous_Y,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>cmp<span style='mso-spacerun:yes'>         </span>di,0<span style='mso-spacerun:yes'>             </span><span style='mso-spacerun:yes'>         </span>; </span>если<span
lang=EN-US style='mso-ansi-language:EN-US'> DI &gt; 0,<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>jl<span style='mso-spacerun:yes'>          </span>fractlt02<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>add<span style='mso-spacerun:yes'>         </span>cx,word ptr X_increment<span style='mso-spacerun:yes'>   </span>; перейти к следующему X<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>sub<span style='mso-spacerun:yes'>         </span>di,bx<span style='mso-spacerun:yes'>                     </span>; и уменьшить DI на 2 * dy<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>fractlt02:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>         </span>dx,word ptr Y_increment<span style='mso-spacerun:yes'>   </span>; следующий Y (на каждом шаге)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>         </span>di,ax<span style='mso-spacerun:yes'>                     </span>; увеличить DI на 2 * dy<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>        </span>putpixel1b<span style='mso-spacerun:yes'>                </span>; вывести точку<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>         </span>short cycle2<span style='mso-spacerun:yes'>              </span>; продолжить цикл<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>exit_bres:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>       </span><span style='mso-spacerun:yes'>                            </span>; конец процедуры<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Процедура вывода точки на экран в режиме, использующем один бит для<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; хранения одного пикселя.<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; DХ = строка, СХ = столбец<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Все регистры сохраняются<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>putpixel1b:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pusha<span style='mso-spacerun:yes'>                            </span>; сохранить регистры<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>        </span>bx,bx<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>        </span>ax,dx<span style='mso-spacerun:yes'>                 </span>; AX = номер строки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>imul<span style='mso-spacerun:yes'>       </span>ах,ах,80<span style='mso-spacerun:yes'>              </span>; АХ = номер строки * число байт в строке<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>       </span>cx<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shr<span style='mso-spacerun:yes'>        </span>сх,3<span style='mso-spacerun:yes'>                  </span>; СХ = номер байта в строке<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>        </span>ах,сх<span style='mso-spacerun:yes'>                 </span>; АХ = номер байта в видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>        </span>di,ax<span style='mso-spacerun:yes'>                 </span>; поместить его в SI и DI для команд<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>        </span>si,di<span style='mso-spacerun:yes'>                 </span>; строковой обработки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pop<span style='mso-spacerun:yes'>       </span><span style='mso-spacerun:yes'> </span>cx<span style='mso-spacerun:yes'>                    </span>; СХ снова содержит номер столбца<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>        </span>bx,0080h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>and<span style='mso-spacerun:yes'>        </span>cx,07h<span style='mso-spacerun:yes'>                </span>; последние три бита СХ =<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; остаток от деления на 8 = номер бита в байте, считая справа налево<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shr<span style='mso-spacerun:yes'>        </span>bx,cl<span style='mso-spacerun:yes'>           </span><span style='mso-spacerun:yes'>         </span>; теперь в BL установлен в 1 нужный бит<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>lods<span style='mso-spacerun:yes'>       </span>es:byte ptr some_label<span style='mso-spacerun:yes'>   </span>; <st1:place
w:st="on"><st1:State w:st="on">AL</st1:State></st1:place> = </span>байт<span
style='mso-ansi-language:EN-US'> </span>из<span style='mso-ansi-language:EN-US'> </span>видеопамяти<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>or<span style='mso-spacerun:yes'>         </span>ax,bx<span style='mso-spacerun:yes'>                    </span>; установить выводимый бит в 1,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; чтобы стереть пиксель с экрана, эту команду OR можно заменить на <o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; not bx<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; and ax,bx<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; или лучше инициализировать ВХ не числом 0080h, а числом FF7Fh и использовать<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; только and<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>stosb<span style='mso-spacerun:yes'>                           </span>; и вернуть байт на место<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>рора<span style='mso-spacerun:yes'>                            </span>; восстановить регистры<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>     </span><span style='mso-spacerun:yes'>   </span>ret<span style='mso-spacerun:yes'>                             </span>; конец<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>previous_X<span style='mso-spacerun:yes'>         </span>dw<span style='mso-spacerun:yes'>       </span>-1<span style='mso-spacerun:yes'>          </span>; предыдущая Х-координата<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>previous_Y<span style='mso-spacerun:yes'>         </span>dw<span style='mso-spacerun:yes'>       </span>-1<span style='mso-spacerun:yes'>          </span>; предыдущая Y-координата<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>Y_increment<span style='mso-spacerun:yes'>        </span>dw<span style='mso-spacerun:yes'>       </span>-1<span style='mso-spacerun:yes'>          </span>; направление изменения Y<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>X_increment<span style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>     </span>dw<span style='mso-spacerun:yes'>       </span>-1<span style='mso-spacerun:yes'>          </span>; направление изменения X<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>some_label:<span style='mso-spacerun:yes'>                             </span>; метка, используемая для переопределения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                        </span>; сегмента-источника для lods с DS на ES<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>end<span style='mso-spacerun:yes'>        </span>start<o:p></o:p></pre>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Алгоритм
Брезенхама, использованный в этой программе, является самым распространенным
алгоритмом рисования прямой. Существуют, конечно, и более эффективные
алгоритмы, например алгоритм Цаолинь By, работающий на принципе конечного
автомата, но алгоритм Брезенхама стал стандартом де-факто.<o:p></o:p></p>

<p class=info2 style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'>Примечание: </b>Приведенную реализацию
этого алгоритма можно значительно ускорить, использовав самомодифицирующийся
код, то есть после проверки на направление прямой в начале алгоритма вписать
прямо в дальнейший текст программы команды INС СХ, DEC CX, INС DX и DEC DX
вместо команд сложения этих регистров с переменными X_increment и Y_increment.
Самомодифицирующийся код часто применяется при программировании для DOS, но во
многих многозадачных системах текст программы загружается в область памяти,
защищенную от записи, так что в последнее время область применения этого приема
становится ограниченной. <o:p></o:p></p>

<br><p class=MsoNormal style='mso-pagination:widow-orphan;mso-layout-grid-align:
auto;text-autospace:ideograph-numeric ideograph-other;text-align: center;'><span style='font-size:
12.0pt;font-family:"Times New Roman"'><a href="#begin">[Вверх]</a> <a
href="../Debug.files/Prog_per_ustr.htm">[В начало]</a> <o:p></o:p></span></p>

</div>

</body>

</html>