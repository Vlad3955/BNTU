<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="55.files/filelist.xml">
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Al</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Al</o:LastAuthor>
  <o:Revision>1</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2013-03-28T21:09:00Z</o:Created>
  <o:LastSaved>2013-03-28T21:09:00Z</o:LastSaved>
  <o:Pages>7</o:Pages>
  <o:Words>2441</o:Words>
  <o:Characters>13914</o:Characters>
  <o:Company>SPecialiST RePack</o:Company>
  <o:Lines>115</o:Lines>
  <o:Paragraphs>32</o:Paragraphs>
  <o:CharactersWithSpaces>16323</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="55.files/themedata.thmx">
<link rel=colorSchemeMapping href="55.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>RU</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="0" Name="HTML Preformatted"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
pre
	{mso-style-unhide:no;
	mso-style-link:"Стандартный HTML Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.bodyfirst, li.bodyfirst, div.bodyfirst
	{mso-style-name:body_first;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.bodytext, li.bodytext, div.bodytext
	{mso-style-name:body_text;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
span.HTML
	{mso-style-name:"Стандартный HTML Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Стандартный HTML";
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	color:black;
	mso-fareast-language:RU;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Calibri;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-fareast-language:EN-US;}
.MsoPapDefault
	{mso-style-type:export-only;
	margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:10.0pt;
	mso-para-margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-fareast-language:EN-US;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU style='tab-interval:35.4pt'>
<p style='text-align:justify;text-indent:35.45pt; font-size: 14pt;'><a
name=begin><i><b>2.1 Средства DOS</b></i></p>

<div class=WordSection1>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'>Как и в
случае вывода на экран, DOS предоставляет набор функций для чтения данных с
клавиатуры, которые используют стандартное устройство ввода STDIN, так что
можно использовать в качестве источника данных файл или стандартный вывод
другой программы.<o:p></o:p></p>

<p class=MsoNormal style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 0Ah</i>&nbsp;— Считать
строку символов из STDIN в буфер<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 0Ah<br>
  DS:DX = адрес буфера<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Буфер
  содержит введенную строку<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Для вызова
этой функции надо подготовить буфер, первый байт которого содержит максимальное
число символов для ввода (1&nbsp;–&nbsp;254), а содержимое, если оно задано,
может использоваться как подсказка для ввода. При наборе строки обрабатываются
клавиши Esc, F3, F5, BS, Ctrl-C/Ctrl-Break и т.д., как при наборе команд DOS
(то есть Esc начинает ввод сначала, F3 восстанавливает подсказку для ввода, F5
запоминает текущую строку как подсказку, Backspace стирает предыдущий символ).
После нажатия клавиши Enter строка (включая последний символ CR (0Dh))
записывается в буфер, начиная с третьего байта. Во второй байт записывается
длина реально введенной строки без учета последнего CR.<o:p></o:p></p>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Рассмотрим
пример программы, выполняющей преобразование десятичного числа в шестнадцатеричное.<o:p></o:p></p>

<pre style='text-align:justify;text-indent:35.45pt'>; dosinl.asm<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Переводит десятичное число в шестнадцатеричное<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>;<o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.model<span style='mso-spacerun:yes'>    </span>tiny<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.code<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.286<span style='mso-spacerun:yes'>                    </span>; </span>для<span
style='mso-ansi-language:EN-US'> </span>команды<span lang=EN-US
style='mso-ansi-language:EN-US'> shr al,4<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>org<span style='mso-spacerun:yes'>       </span>100h<span style='mso-spacerun:yes'>          </span>; начало СОМ-файла<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>start:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>dx,offset message1<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,9<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>           </span>; вывести приглашение ко вводу message1<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>dx,offset buffer<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,0Ah<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>           </span>; считать строку символов в буфер<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>dx,offset crlf<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,9<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>           </span>; перевод строки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; перевод числа в ASCII-формате из буфера в бинарное число в АХ<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>       </span>di,di<span style='mso-spacerun:yes'>         </span>; DI = 0 - номер байта в буфере<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>      </span><span style='mso-spacerun:yes'> </span>ах,ах<span style='mso-spacerun:yes'>         </span>; АХ = 0 - текущее значение результата<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>cl,blength<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>       </span>ch,ch<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>       </span>bx,bx<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>si,cx<span style='mso-spacerun:yes'>         </span>; SI - </span>длина<span
style='mso-ansi-language:EN-US'> </span>буфера<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>mov<span style='mso-spacerun:yes'>       </span>cl,10<span style='mso-spacerun:yes'>         </span>; CL = 10, множитель для MUL<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>asc2hex:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>     </span>mov<span style='mso-spacerun:yes'>       </span>bl,byte ptr bcontents[di]<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>sub<span style='mso-spacerun:yes'>       </span>bl,'0'<span style='mso-spacerun:yes'>        </span>; цифра = код цифры - код символа &quot;0&quot;,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jb<span style='mso-spacerun:yes'>        </span>asc_error<span style='mso-spacerun:yes'>     </span>; если код символа был меньше, чем код &quot;0&quot;,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>bl,9<span style='mso-spacerun:yes'>          </span>; или больше, чем &quot;9&quot;,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ja<span style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>     </span>asc_error<span style='mso-spacerun:yes'>     </span>; выйти из программы с сообщением об ошибке,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mul<span style='mso-spacerun:yes'>       </span>cx<span style='mso-spacerun:yes'>            </span>; иначе: умножить текущий результат на 10,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>       </span>ax,bx<span style='mso-spacerun:yes'>         </span>; добавить к нему новую цифру,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>inc<span style='mso-spacerun:yes'>       </span>di<span style='mso-spacerun:yes'>            </span>; увеличить счетчик<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'>      </span>cmp<span style='mso-spacerun:yes'>       </span>di,si<span style='mso-spacerun:yes'>         </span>; если счетчик+1 меньше числа символов -<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jb<span style='mso-spacerun:yes'>        </span>asc2hex<span style='mso-spacerun:yes'>       </span>; продолжить (счетчик считается от 0)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; вывод на экран строки message2<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>      </span>ax<span style='mso-spacerun:yes'>            </span>; сохранить результат преобразования<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov <span style='mso-spacerun:yes'>      </span>ah,9<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dx,offset message2<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>21h<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pop<span style='mso-spacerun:yes'>       </span>ax<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; вывод на экран числа из регистра АХ<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>push<span style='mso-spacerun:yes'>      </span>ax<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>xchg<span style='mso-spacerun:yes'>      </span>ah,al<span style='mso-spacerun:yes'>         </span>; поместить в AL старший байт<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>print_al<span style='mso-spacerun:yes'>      </span>; вывести его на экран<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>pop<span style='mso-spacerun:yes'>       </span>ax<span style='mso-spacerun:yes'>            </span>; восстановить в AL младший байт<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>print_al<span style='mso-spacerun:yes'>      </span>; вывести его на экран<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                     </span>; завершение СОМ-файла<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>asc_error:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>dx,offset err_msg<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,9<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>           </span>; вывести сообщение об ошибке<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                     </span>; и завершить программу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Процедура print_al<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; выводит на экран число в регистре AL<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; в шестнадцатеричном формате,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; модифицирует значения регистров АХ и DX<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>print_al:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dh,al<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>and<span style='mso-spacerun:yes'>       </span>dh,0Fh<span style='mso-spacerun:yes'>        </span>; DH - </span>младшие<span
lang=EN-US style='mso-ansi-language:EN-US'> 4 </span>бита<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>shr<span style='mso-spacerun:yes'>       </span>al,4<span style='mso-spacerun:yes'>          </span>; <st1:place
w:st="on"><st1:State w:st="on">AL</st1:State></st1:place> - </span>старшие<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>print_nibble<span style='mso-spacerun:yes'>  </span>; </span>вывести<span
style='mso-ansi-language:EN-US'> </span>старшую<span style='mso-ansi-language:
EN-US'> </span>цифру<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>mov<span style='mso-spacerun:yes'>       </span>al,dh<span style='mso-spacerun:yes'>         </span>; теперь AL содержит младшие 4 бита<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>print_nibble:<span style='mso-spacerun:yes'>                   </span>; процедура вывода 4 бит (шестнадцатеричной цифры)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,10<span style='mso-spacerun:yes'>         </span>; три команды, переводящие цифру в AL<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>sbb<span style='mso-spacerun:yes'>       </span>al,69h<span style='mso-spacerun:yes'>        </span>; в соответствующий ASCII-код<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>das<span style='mso-spacerun:yes'>                     </span>; (см. описание команды DAS)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dl,al<span style='mso-spacerun:yes'>         </span>; код символа в DL<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,2<span style='mso-spacerun:yes'>          </span>; номер функции DOS в АН<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>           </span>; вывод символа<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                     </span>; этот RET работает два раза - один раз<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>     </span><span style='mso-spacerun:yes'>                           </span>; для возврата из процедуры print_nibble,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                </span>; вызванной для старшей цифры,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                </span>; и второй раз - для возврата из print_al<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>messagel db<span style='mso-spacerun:yes'>       </span>&quot;Десятичное число: $&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>message2 db<span style='mso-spacerun:yes'>       </span>&quot;Шестнадцатеричное число: $&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>err_msg<span style='mso-spacerun:yes'>  </span>db<span style='mso-spacerun:yes'>       </span>&quot;Ошибка ввода&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>crlf<span style='mso-spacerun:yes'>     </span>db<span style='mso-spacerun:yes'>       </span>0Dh,0Ah,'$'<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'>buffer<span style='mso-spacerun:yes'>   </span>db<span style='mso-spacerun:yes'>       </span>6<span style='mso-spacerun:yes'>             </span>; максимальный размер буфера ввода<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>blength<span style='mso-spacerun:yes'>  </span>db<span style='mso-spacerun:yes'>       </span>?<span style='mso-spacerun:yes'>             </span>; размер буфера после считывания<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>bcontents:<span style='mso-spacerun:yes'>             </span><span style='mso-spacerun:yes'>         </span>; содержимое буфера располагается за<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                </span>; концом СОМ-файла<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>end<span style='mso-spacerun:yes'>       </span>start<o:p></o:p></pre>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Функция 0Ah
предоставляет удобный, но ограниченный способ ввода данных. Чаще всего
используют функции посимвольного ввода, позволяющие контролировать отображение
символов на экране, реакцию программы на функциональные и управляющие клавиши и
т.д.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 01h</i>&nbsp;— Считать
символ из STDIN с эхом, ожиданием и проверкой на Ctrl-Break<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 01h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AL =
  ASCII-код символа или 0. Если AL = 0, второй вызов этой функции возвратит в
  AL расширенный ASCII-код символа<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>При чтении с
помощью этой функции введенный символ автоматически немедленно отображается на
экране (посылается в устройство STDOUT&nbsp;— так что его можно перенаправить в
файл). При нажатии Ctrl-C или Ctrl-Break выполняется команда INT&nbsp;23h. Если
нажата клавиша, не соответствующая какому-нибудь символу (стрелки,
функциональные клавиши Ins, Del и т.д.), то в AL возвращается 0 и функцию надо
вызвать еще один раз, чтобы получить расширенный ASCII-код (см.
приложение&nbsp;1).<o:p></o:p></p>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>В трех
следующих вариантах этой функции код символа возвращается в AL по такому же
принципу.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 08h</i>&nbsp;— Считать
символ из STDIN без эха, с ожиданием и проверкой на Ctrl-Break<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 08h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AL = код
  символа<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 07h</i>&nbsp;— Считать
символ из STDIN без эха, с ожиданием и без проверки на Ctrl-Break<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 07h<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AL = код
  символа<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 06h</i>&nbsp;— Считать
символ из STDIN без эха, без ожидания и без проверки на Ctrl-Break<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 07h<br>
  DL = 0FFh<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>ZF = 1,
  если не была нажата клавиша, и AL = 00<br>
  ZF = 0, если клавиша была нажата. В этом случае AL = код символа<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Кроме
перечисленных функций могут потребоваться и некоторые служебные функции DOS для
работы с клавиатурой.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 0Bh</i>&nbsp;— Проверить состояние
клавиатуры<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 0Bh<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>AL = 0,
  если не была нажата клавиша<br>
  AL = 0FFh, если была нажата клавиша<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Эту функцию
удобно использовать перед функциями 01, 07 и 08, чтобы не ждать нажатия
клавиши. Кроме того, вызов этой функции позволяет проверить, не считывая символ
с клавиатуры, была ли нажата комбинация клавиш Ctrl-Break; если это произошло,
выполнится прерывание 23h.<o:p></o:p></p>

<p class=bodyfirst style='text-align:justify;text-indent:35.45pt'><b
style='mso-bidi-font-weight:normal'><i>Функция DOS 0Ch</i>&nbsp;— Очистить
буфер и считать символ<o:p></o:p></b></p>

<table class=MsoNormalTable border=0 cellspacing=1 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:.7pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Ввод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>АН = 0Ch<br>
  AL = Номер функции DOS (01, 06, 07, 08, 0Ah)<span style='font-size:12.0pt;
  color:black'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width="15%" valign=top style='width:15.0%;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Вывод:<span
  style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='text-align:justify;text-indent:35.45pt'>Зависит от
  вызванной функции<span style='font-size:12.0pt;color:black'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Функция 0Ch
очищает буфер клавиатуры, так что следующая функция чтения символа будет ждать
ввода с клавиатуры, а не использовать нажатый ранее и еще не обработанный
символ. Например, именно эта функция используется для считывания ответа на
вопрос «Уверен ли пользователь в том, что он хочет отформатировать диск?».<o:p></o:p></p>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>Функции
посимвольного ввода без эха можно использовать для интерактивного управления
программой, как в следующем примере.<o:p></o:p></p>

<pre style='text-align:justify;text-indent:35.45pt'>; dosin2.asm<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; Изображает пентамино F, которое можно перемещать по экрану клавишами<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; управления курсором и вращать клавишами X и Z. Выход из программы - Esc.<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>line_length = 3<span style='mso-spacerun:yes'>                   </span>; число символов в строке изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>number_of_lines = 3<span style='mso-spacerun:yes'>               </span>; </span>число<span
style='mso-ansi-language:EN-US'> </span>строк<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>.model<span style='mso-spacerun:yes'>    </span>tiny<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>     </span><span style='mso-spacerun:yes'>   </span></span>.code<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>org<span style='mso-spacerun:yes'>       </span>100h<span style='mso-spacerun:yes'>            </span>; начало СОМ-файла<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>start:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cld<span style='mso-spacerun:yes'>                       </span>; будут использоваться команды<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                  </span>; строковой обработки<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,0B800h<span style='mso-spacerun:yes'>       </span>; адрес начала текстовой видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span>es,ax<span style='mso-spacerun:yes'>           </span>; </span>в<span
lang=EN-US style='mso-ansi-language:EN-US'> ES<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,0003h<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>int<span style='mso-spacerun:yes'>       </span>10h<span style='mso-spacerun:yes'>             </span>; текстовый режим 03 (80x25)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,02h<span style='mso-spacerun:yes'>          </span>; установить курсор<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>bh,0<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dh,26<span style='mso-spacerun:yes'>           </span>; на строку 26, то есть за пределы экрана<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dl,1<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>       </span>10h<span style='mso-spacerun:yes'>             </span>; теперь курсора на экране нет<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>   </span>; вывести изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; основной цикл опроса клавиатуры<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>main_loop:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ah,08h<span style='mso-spacerun:yes'>         </span><span style='mso-spacerun:yes'> </span>; считать символ с клавиатуры<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>             </span>; без эха, с ожиданием, с проверкой на Ctrl-Break<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>test<span style='mso-spacerun:yes'>      </span>al,al<span style='mso-spacerun:yes'>           </span>; </span>если<span
lang=EN-US style='mso-ansi-language:EN-US'> <st1:place w:st="on"><st1:State
 w:st="on">AL</st1:State></st1:place> = 0<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>jz<span style='mso-spacerun:yes'>        </span>eASCII_entered<span style='mso-spacerun:yes'>  </span>; введен символ расширенного ASCII<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,1Bh<span style='mso-spacerun:yes'>          </span>; иначе: если введен символ 1Bh (Esc),<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_ESC<span style='mso-spacerun:yes'>         </span>; выйти из программы,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,'Z'<span style='mso-spacerun:yes'>          </span>; если введен символ Z,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_Z<span style='mso-spacerun:yes'>           </span>; перейти на его обработчик<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,'z'<span style='mso-spacerun:yes'>       </span><span style='mso-spacerun:yes'>   </span>; то же для z<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_Z<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,'X'<span style='mso-spacerun:yes'>          </span>; если введен символ X,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_X<span style='mso-spacerun:yes'>           </span>; перейти на его обработчик<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,'х'<span style='mso-spacerun:yes'>          </span>; то же для х<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_X<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp short main_loop<span style='mso-spacerun:yes'>       </span>; считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>eASCII_entered:<span style='mso-spacerun:yes'>                   </span>; был введен расширенный ASCII-символ<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>int<span style='mso-spacerun:yes'>       </span>21h<span style='mso-spacerun:yes'>             </span>; получить его код (повторный вызов функции)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>cmp<span style='mso-spacerun:yes'>       </span>al,48h<span style='mso-spacerun:yes'>          </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>вверх<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>     </span><span style='mso-spacerun:yes'>   </span>key_UP<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,50h<span style='mso-spacerun:yes'>          </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>вниз<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_DOWN<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,4Bh<span style='mso-spacerun:yes'>          </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>влево<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_LEFT<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>al,4Dh<span style='mso-spacerun:yes'>          </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>вправо<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>je<span style='mso-spacerun:yes'>        </span>key_RIGHT<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>jmp short main_loop<span style='mso-spacerun:yes'>       </span>; считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; обработчики нажатий клавиш<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>key_ESC:<span style='mso-spacerun:yes'>                               </span>; Esc<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                            </span>; завершить СОМ-программу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>key_UP:<span style='mso-spacerun:yes'>                                </span>; стрелка вверх<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>byte ptr start_row,0 ; если изображение на верхнем<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                       </span>; краю экрана,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jna<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; считать следующую клавишу,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>dec<span style='mso-spacerun:yes'>       </span>byte ptr start_row<span style='mso-spacerun:yes'>   </span>; иначе - уменьшить номер строки,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'> <span style='mso-spacerun:yes'>       </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>short main_loop<span style='mso-spacerun:yes'>      </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>key_DOWN:<span style='mso-spacerun:yes'>                              </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>вниз<span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></pre><pre style='text-align:justify;text-indent:35.45pt'><span
lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>byte ptr start_row,25-number_of_lines ; </span>если<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>                                    </span></span>; изображение на нижнем краю экрана,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jnb<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; считать следующую клавишу,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>inc<span style='mso-spacerun:yes'>       </span>byte ptr start_row<span style='mso-spacerun:yes'>   </span>; иначе - увеличить номер строки,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>short main_loop<span style='mso-spacerun:yes'>      </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>key_LEFT:<span style='mso-spacerun:yes'>                              </span>; стрелка влево<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>byte ptr start_col,0 ; если изображение на левом краю<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                  </span><span style='mso-spacerun:yes'>     </span>; экрана,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jna<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; считать следующую клавишу,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>dec<span style='mso-spacerun:yes'>       </span>byte ptr start_col<span style='mso-spacerun:yes'>   </span>; иначе - уменьшить номер столбца,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>short main_loop<span style='mso-spacerun:yes'>      </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>key_RIGHT:<span style='mso-spacerun:yes'>                             </span>; </span>стрелка<span
style='mso-ansi-language:EN-US'> </span>вправо<span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre style='text-align:
justify;text-indent:35.45pt'><span lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>byte ptr start_col,80-line_length ; </span>если<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>                                       </span></span>; изображение на правом краю экрана,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jnb<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; считать следующую клавишу,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>inc<span style='mso-spacerun:yes'>       </span>byte ptr start_col<span style='mso-spacerun:yes'>   </span>; иначе - увеличить номер столбца,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>short main_loop<span style='mso-spacerun:yes'>      </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>key_Z:<span style='mso-spacerun:yes'>                                 </span>; клавиша Z (вращение влево)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,current_screen<span style='mso-spacerun:yes'>    </span>; считать номер текущего изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                       </span>; (значения 0, 1, 2, 3),<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>dec<span style='mso-spacerun:yes'>       </span>ax<span style='mso-spacerun:yes'>                   </span>; уменьшить его на 1,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jns<span style='mso-spacerun:yes'>       </span>key_Z_ok<span style='mso-spacerun:yes'>             </span>; если получился -1 (поменялся знак),<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>mov<span style='mso-spacerun:yes'>       </span></span>ах<span
lang=EN-US style='mso-ansi-language:EN-US'>,3<span style='mso-spacerun:yes'>                 </span>; </span>АХ<span
lang=EN-US style='mso-ansi-language:EN-US'> = 3<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>key_Z_ok:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>mov<span style='mso-spacerun:yes'>       </span>current_screen,ax<span style='mso-spacerun:yes'>    </span>; записать номер обратно,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>key_X:<span style='mso-spacerun:yes'>                                 </span>; клавиша X (вращение вправо)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,current_screen<span style='mso-spacerun:yes'>    </span>; считать номер текущего изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                     </span><span style='mso-spacerun:yes'>                  </span>; (значения 0, 1, 2, 3),<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>inc<span style='mso-spacerun:yes'>       </span>ax<span style='mso-spacerun:yes'>                   </span>; увеличить его на 1,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>cmp<span style='mso-spacerun:yes'>       </span>ax,4<span style='mso-spacerun:yes'>                 </span>; если номер стал равен 4,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span><span
lang=EN-US style='mso-ansi-language:EN-US'>jne<span style='mso-spacerun:yes'>       </span>key_X_ok<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>       </span></span>ах<span
lang=EN-US style='mso-ansi-language:EN-US'>,</span>ах<span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>                </span>; </span>АХ<span
lang=EN-US style='mso-ansi-language:EN-US'> = 0<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>key_X_ok:<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'> <span style='mso-spacerun:yes'>       </span>mov<span style='mso-spacerun:yes'>       </span>current_screen,ax<span style='mso-spacerun:yes'>    </span>; </span>записать<span
style='mso-ansi-language:EN-US'> </span>номер<span style='mso-ansi-language:
EN-US'> </span>обратно<span lang=EN-US style='mso-ansi-language:EN-US'>,<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>        </span></span>call<span style='mso-spacerun:yes'>      </span>update_screen<span style='mso-spacerun:yes'>        </span>; вывести новое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jmp<span style='mso-spacerun:yes'>       </span>main_loop<span style='mso-spacerun:yes'>            </span>; и считать следующую клавишу<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; процедура update_screen<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; очищает экран и выводит текущее изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; модифицирует значения регистров АХ, ВХ, СХ, DX, SI, DI<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>update_screen:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>cx,25*80<span style='mso-spacerun:yes'>           </span>; число символов на экране<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,0F20h;<span style='mso-spacerun:yes'>          </span>; символ 20h (пробел) с атрибутом 0Fh<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                            </span><span style='mso-spacerun:yes'>         </span>; (белый на черном)<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>xor<span style='mso-spacerun:yes'>       </span>di,di<span style='mso-spacerun:yes'>              </span>; ES:DI = начало видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>rep<span style='mso-spacerun:yes'>       </span>stosw<span style='mso-spacerun:yes'>              </span>; очистить экран<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>bx,current_screen<span style='mso-spacerun:yes'>  </span>; номер текущего изображения в ВХ<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shl<span style='mso-spacerun:yes'>       </span>bx,1<span style='mso-spacerun:yes'>              </span><span style='mso-spacerun:yes'> </span>; умножить на 2, так как screens - массив слов<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>si,screens[bx]<span style='mso-spacerun:yes'>     </span>; поместить в ВХ смещение начала<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                     </span>; текущего изображения из массива screens,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>ax,start_row<span style='mso-spacerun:yes'>       </span>; вычислить адрес начала<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mul<span style='mso-spacerun:yes'>       </span>row_length<span style='mso-spacerun:yes'>         </span>; изображения в видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>       </span>ax,start_col<span style='mso-spacerun:yes'>       </span>; (строка * 80 + столбец) * 2<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>shl<span style='mso-spacerun:yes'>       </span>ax,1<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>di,ax<span style='mso-spacerun:yes'>              </span>; ES:DI - начало изображения в видеопамяти<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>      </span><span style='mso-spacerun:yes'> </span>ah,0Fh<span style='mso-spacerun:yes'>             </span>; используемый атрибут - белый на черном<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>dx,number_of_lines ; число строк в изображении<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>сору_lines:<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>mov<span style='mso-spacerun:yes'>       </span>cx,line_length<span style='mso-spacerun:yes'>     </span>; число символов в строке<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>copy_1: lodsb<span style='mso-spacerun:yes'>                        </span>; считать ASCII-код в AL,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>stosw<span style='mso-spacerun:yes'>                        </span>; записать его в видеопамять<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                     </span>; (AL - ASCII, АН - атрибут),<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>loop<span style='mso-spacerun:yes'>       </span>copy_1<span style='mso-spacerun:yes'>            </span>; вывести так все символы в строке,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>add<span style='mso-spacerun:yes'>        </span>di,(80-line_length)*2 ; перевести DI на начало<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>                                     </span>; следующей строки экрана,<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>dec<span style='mso-spacerun:yes'>        </span>dx<span style='mso-spacerun:yes'>                </span>; если строки не закончились -<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>jnz<span style='mso-spacerun:yes'>        </span>copy_lines<span style='mso-spacerun:yes'>        </span>; вывести следующую<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>ret<span style='mso-spacerun:yes'>                          </span>; конец процедуры update_screen<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; изображение пентамино F<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>screen1 db<span style='mso-spacerun:yes'>         </span>&quot; XX&quot;<span style='mso-spacerun:yes'>             </span>; выводимое изображение<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot;XX &quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot; X &quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>screen2 db<span style='mso-spacerun:yes'>         </span>&quot; X &quot;<span style='mso-spacerun:yes'>             </span>; поворот на 90 градусов вправо<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot;XXX&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot;<span style='mso-spacerun:yes'>  </span>X&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>screen3 db<span style='mso-spacerun:yes'>         </span>&quot; X &quot;<span style='mso-spacerun:yes'>             </span>; поворот на 180 градусов<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot; XX&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot;XX &quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>screen4 db<span style='mso-spacerun:yes'>         </span>&quot;X<span style='mso-spacerun:yes'>  </span>&quot;<span style='mso-spacerun:yes'>             </span>; поворот на 90 градусов влево<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot;XXX&quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>        </span>db<span style='mso-spacerun:yes'>         </span>&quot; X &quot;<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>; массив, содержащий адреса всех вариантов изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span lang=EN-US
style='mso-ansi-language:EN-US'>screens<span style='mso-spacerun:yes'>         </span>dw<span style='mso-spacerun:yes'>     </span>screen1,screen2,screen3,screen4<o:p></o:p></span></pre><pre
style='text-align:justify;text-indent:35.45pt'>current_screen<span style='mso-spacerun:yes'>  </span>dw<span style='mso-spacerun:yes'>     </span>0<span style='mso-spacerun:yes'>             </span>; текущий вариант изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>start_row<span style='mso-spacerun:yes'>       </span>dw<span style='mso-spacerun:yes'>     </span>10<span style='mso-spacerun:yes'>            </span>; текущая верхняя строка изображения<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>start_col<span style='mso-spacerun:yes'>       </span>dw<span style='mso-spacerun:yes'>     </span>37<span style='mso-spacerun:yes'>            </span>; текущий левый столбец<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'>row_length<span style='mso-spacerun:yes'>      </span>db<span style='mso-spacerun:yes'>     </span>80<span style='mso-spacerun:yes'>            </span>; длина строки экрана для команды MUL<o:p></o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><o:p>&nbsp;</o:p></pre><pre
style='text-align:justify;text-indent:35.45pt'><span style='mso-spacerun:yes'>       </span>end<span style='mso-spacerun:yes'>         </span>start<o:p></o:p></pre>

<p class=bodytext style='text-align:justify;text-indent:35.45pt'>В этом примере
для вывода на экран используется прямое копирование в видеопамять, так как вызов
функции BIOS вывода строки (INT&nbsp;10h, АН&nbsp;= 13h) прокручивает экран
вверх на одну строку при выводе символа в нижнем правом углу экрана.<o:p></o:p></p>

<br><p class=MsoNormal style='mso-pagination:widow-orphan;mso-layout-grid-align:
auto;text-autospace:ideograph-numeric ideograph-other;text-align: center;'><span style='font-size:
12.0pt;font-family:"Times New Roman"'><a href="#begin">[Вверх]</a> <a
href="../Debug.files/Prog_per_ustr.htm">[В начало]</a> <o:p></o:p></span></p>

</div>

</body>

</html>
